/*
* jquery.validator2.min.js
*
* Plugin: Validator
* Author: biohzrdmx
* Description: A very simple form validation plugin
* Version: 2.6 (20130913)
* License: MIT
*/
;;!function(a){a.validator={rules:[],init:function(){return this},ltrim:function(a){return a.replace(/^\s+/,"")},rtrim:function(a){return a.replace(/\s+$/,"")},validate:function(b){var c=this,d=a.extend({rules:[],form:null,success:c.onSuccess,error:c.onError},b),e=0,f=/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,g=[],h=null,i=null,j=null,k=this;if(null===d.form)return!1;i="string"==typeof d.form?a(b.form):d.form;for(var l=d.rules.length>0?d.rules:this.rules,m=0;m<l.length;m++)if(rule=l[m],h="string"==typeof rule.el?a(rule.el):rule.el,void 0!==h&&null!==h&&h.parents("form").is(i))switch(rule.type){case"required":try{h.each(function(){el=a(this),el.is(":disabled")||(j=k.ltrim(k.rtrim(el.val())),(el.is(":checkbox ")&&!el.is(":checked")||el.is(":radio")&&0==a("input[name="+el.attr("name")+"]:checked").length||""==j)&&(e++,g.push(el)))})}catch(n){}break;case"email":try{h.each(function(){el=a(this),el.is(":disabled")||f.test(el.val())||(e++,g.push(el))})}catch(n){}break;case"regex":try{h.each(function(){el=a(this),el.is(":disabled")||null!==rule.param&&rule.param.test(el.val())||(e++,g.push(el))})}catch(n){}break;case"equal":try{h.each(function(){el=a(this);var b=null;b="string"==typeof rule.param?a(rule.param):rule.param,el.is(":disabled")||b.is(":disabled")||(null===b||""==el.val()||el.val()!==b.val())&&(e++,g.push(el))})}catch(n){}break;case"checkboxes":try{h.each(function(){if(el=a(this),!el.is(":disabled")){var b=el.attr(rule.param);el.is(":checkbox")&&0==a("input["+rule.param+'="'+b+'"]:checked').length&&(e++,g.push(el))}})}catch(n){}break;case"at least":case"at most":try{var o=[],p=0;h.each(function(){el=a(this),el.is(":disabled")||(j=k.ltrim(k.rtrim(el.val())),o.push(el),el.is(":checkbox ")&&!el.is(":checked")||el.is(":radio")&&0==a("input[name="+el.attr("name")+"]:checked").length||""==j||p++)}),"at least"==rule.type&&p<rule.param?(e++,g=g.concat(o)):"at most"==rule.type&&p>rule.param&&(e++,g=g.concat(o))}catch(n){}break;case"date":try{var q=!0;if(h.each(function(){el=a(this),el.is(":disabled")||(j=k.ltrim(k.rtrim(el.val())),""==j&&(e++,g.push(el),q=!1))}),3==h.length&&h.is("select")){if(rule.param&&q){var r=h.filter("select[data-name=year]"),s=h.filter("select[data-name=month]"),t=h.filter("select[data-name=day]"),u=[r.val(),s.val(),t.val()],v=rule.param.split("/"),w=new Date(u[0],--u[1],u[2]),x=new Date(v[0],--v[1],v[2]);"before"==rule.val&&w.getTime()>=x.getTime()?(g.push(r),g.push(s),g.push(t),e+=3):"after"==rule.val&&w.getTime()<=x.getTime()&&(g.push(r),g.push(s),g.push(t),e+=3)}}else h.is("input")&&rule.param&&q&&h.each(function(){var b=a(this),c=b.val(),d=c.split("/"),f=rule.param.split("/"),h=new Date(d[0],--d[1],d[2]),i=new Date(f[0],--f[1],f[2]);"before"==rule.val&&h.getTime()>=i.getTime()?(g.push(b),e++):"after"==rule.val&&h.getTime()<=i.getTime()&&(g.push(b),e++)})}catch(n){}}return e>0?(d.error.call(i,a(g)),!1):0==e?(ret=d.success.call(i),!0):void 0},addRule:function(b){var c=this,d=a.extend({el:null,type:"required",msg:null,attr:null,param:null,items:null,before:null,after:null,to:null,match:null,auto:!1},b);if(null!==d.el){var e={el:d.el,type:d.type,msg:d.msg,param:d.param||d.to||d.match||d.before||d.after||d.items,val:null};switch(d.type){case"date":e.val=d.before?"before":d.after?"after":null}if(d.auto){var f="string"==typeof d.el?a(d.el):d.el;f.on("blur",function(){c.validate({form:f.closest("form"),rules:[e],error:function(){c.onError.call(c,f)},success:function(){c.onSuccess.call(c,f)}})})}this.rules.push(e)}},onSuccess:function(){},onError:function(){}}}(jQuery);;